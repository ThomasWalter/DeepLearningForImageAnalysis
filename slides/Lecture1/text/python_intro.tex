%% \documentclass{beamer}


%% \mode<article> % only for the article version
%% {
%%   \usepackage{fullpage}
%%   \usepackage{hyperref}
%% }


%% \mode<presentation>
%% {
%% 	%\setbeamertemplate{background canvas}[vertical shading][bottom=red!10,top=blue!10]

%% 	\usetheme{Warsaw}

%% 	\setbeamertemplate{footline}[frame number]
%% 	\setbeamertemplate{navigation symbols}{}

%% 	\usefonttheme[onlysmall]{structurebold}


%% 	%\usepackage{multimedia}
%% }

%% %\usepackage[latin1]{inputenc}


%% \usepackage[T1]{fontenc}
%% \usepackage{lmodern}

%% \usepackage{amsmath}
%% \usepackage{amsfonts}
%% \usepackage{amssymb}

%% \usepackage{graphicx}
%% %\usepackage[french]{babel}
%% %\NoFrenchBabelItemize
%% %\usepackage{pstricks,pst-node,pst-tree}
%% %\usepackage{subfigure}
%% %\usepackage{color}
%% %\usepackage{colortbl}

%% %\usepackage{pgf,pgfarrows,pgfnodes,pgfautomata,pgfheaps,pgfshade}

%% %\usepackage{ifthen}


%% \setbeamercovered{dynamic}


\documentclass[xcolor=pdftex,dvipsnames,table,mathserif]{beamer}
\input{../../setting.tex}
\usepackage{physics}
\usepackage{alltt}

\graphicspath{{../graphics/}}

\AtBeginSection[]{
  \begin{frame}{Contents}
    \tableofcontents[currentsection, hideothersubsections]
  \end{frame}
}

\AtBeginSubsection[]{
  \begin{frame}{Contents}
    \tableofcontents[currentsection, subsectionstyle=show/shaded/hide]
  \end{frame}
}

\setbeamertemplate{footline}[frame number]{}
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{section in toc}[square]
\setbeamertemplate{items}[square]

\title{Python and numpy primer}
\author{}
\date{MINES ParisTech\\
  PSL Research University\\
  Center for Mathematical Morphology
}
\titlegraphic{\includegraphics[height=1.7cm]{../graphics/logoemp}}

\useinnertheme{rounded}
\usecolortheme{rose}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Introduction}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Practical sessions tools}

\begin{itemize}
\item Python: a high level interpreted language
\item Numpy: a scientific computing libray
\item Keras: a high level deep learning library
\item Jupyter notebook: A web application allowing to run code on a user-friendly environment
\end{itemize}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Python in 5 minutes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Python}

  \begin{block}{Python}
    \begin{itemize}
    \item High-level language
    \item Object-oriented with dynamic typing
    \item Easy to interface with C++
    \item Easy to learn (?)
    \end{itemize}
  \end{block}

\begin{alertblock}{}
  We will use Python 3
\end{alertblock}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Expressions, variables and types}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Expressions}

  \begin{block}{Examples of expressions}

    %Une session dans l'interpr?teur interactif:
    A session in the interactive interpreter:
    \begin{alltt}
      $>>>$ 2

      2

      $>>>$ 2+2

      4

      $>>>$ "hello"

      'hello'

      $>>>$ \# this is a comment
    \end{alltt}
  \end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Variables}

  \begin{block}{Using variables}
    Variables are not declared:
    \begin{alltt}
      $>>>$ a = 2

      $>>>$ a

      2

      $>>>$ b = 3

      $>>>$ print(b)

      3

      $>>>$ b = a

      $>>>$ a = 1

      $>>>$ print(a,b)

      1 2
    \end{alltt}
  \end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Compound types: tuples and lists}

  \begin{block}{Tuples}
    \begin{alltt}
      $>>>$ t1 = ( 1, "zz")

      $>>>$ type(t1)

      <type 'tuple'>

      $>>>$ print(t1, t1[0], t1[1])

      (1,"zz") 1 "zz"

      $>>>$ a,b = t1

      $>>>$ print(a)

      1

      $>>>$ print(b)

      'zz'
    \end{alltt}
  \end{block}

  \begin{alertblock}{Tuples are inmutable}
    Once they are created, the can only be erased. They cannot be modified.
  \end{alertblock}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Compound types: tuples and lists}

  \begin{block}{Lists}
    \begin{alltt}
      $>>>$ l1=[ "abc" ]

      $>>>$ l1.append(3.14159) \# lists can be heterogeneous
      $>>>$ l1
      [ 'abc', 3.14159 ]

      $>>>$ l1.append( [ 1, t1 ] ) \# lists can contain lists
      $>>>$ l1
      ['abc', 3.14159, [1, (1, 2)]]

      $>>>$ print(l1[1]) \# indexing starts at 0

      3.14159
    \end{alltt}
  \end{block}

\begin{alertblock}{Lists are mutable}
  You an modify or erase any list element.
\end{alertblock}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Functions}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Functions (1)}

  \begin{block}{Declaring a function}
    In the interpreter:
    \begin{alltt}
      $>>>$ def f(a):        \# note the ':' (colon)

      ...     return a*2   \# there are 4 spaces or 1 tab

      \#     before the "return"

      ...

      $>>>$ f("abcd")

      'abcdabcd'

    \end{alltt}
    Indentation is \emph{critical}: it's part of the syntax
  \end{block}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Fonctions (2)}
  \begin{block}{Return value}

    \begin{alltt}
      def theAddition( a , b ):

      ~~~~ return a + b
    \end{alltt}

  \end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Loops and tests}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}

  \frametitle{Tests}

  \begin{block}{Tests and conditions}
    \begin{alltt}
      if 1 == 2 :               \# note the ':' !

      ~~~~    print("Wow, Problem!") \# <- 4 spaces or 1 tab


      if myGlass.isFull():   \# note ':'

      ~~~~    myGlass.doEmpty()

      elif myGlass.isEmpty():

      ~~~~    myGlass.doFill()

      else:

      ~~~~    pass                  \# "empty" action

    \end{alltt}
  \end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Loops (1)}

  \begin{block}{Simple loops}
    \begin{alltt}
      for i in range( 5 ):\\
      ~~~~     print(i)
    \end{alltt}
    Will display:
    \begin{alltt}
      0\\
      1\\
      2\\
      3\\
      4\\
    \end{alltt}
  \end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Loops (2)}

  \begin{block}{Loops on lists}
    %Pour boucler sur les ?l?ments d'une liste, 2 solutions:
    To loop over the items in a list, 2 possibilities:
    \begin{alltt}
      L = [ 1 , 2 , "abc" ]

      for i in range( len(L) ):\\
      ~~~~    print(L[i])
    \end{alltt}
    which is equivalent to:
    \begin{alltt}
      for x in L:\\
      ~~~~    print(x)
    \end{alltt}
  \end{block}

\begin{alertblock}{Python style}
  The second construct is more python-ish that the first, and should be preferred.
\end{alertblock}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Loops (3)}

  \begin{block}{``while'' loops}
    Infinite ``while'' loop:
    \begin{alltt}
      a = 0\\
      while True:\\
      ~~~~    a += 1\\
      ~~~~    if a == 10:\\
      ~~~~ ~~~~        break
    \end{alltt}
    ``while'' loop with a test:
    \begin{alltt}
      while a < 10:\\
      ~~~~    a+=1
    \end{alltt}
  \end{block}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Packages}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Packages}
  \begin{block}{Importing packages}
    \begin{alltt}
      $>>>$ import numpy\\
      $>>>$ numpy.cos(0)\\
      1.0
    \end{alltt}
    You can also use a short name for the package:
    \begin{alltt}
      $>>>$ import numpy as np\\
      $>>>$ np.cos(0)\\
      1.0
    \end{alltt}
    For the lazy ones (bad practice, just for quick tests!):
    \begin{alltt}
      $>>>$ from numpy import *\\
      $>>>$ cos(0)\\
      1.0
    \end{alltt}
  \end{block}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Files and paths}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Files}

  \begin{block}{Reading and writing (text mode)}
    To read the content of a text file:
    \begin{alltt}
      $>>>$ f = open( "hop.txt" , "r" )\\
      $>>>$ for l in f.readlines():\\
      ~~~~    print(l)
    \end{alltt}
    To write:
    \begin{alltt}
      $>>>$ f2 = open( "hop2.txt" , "w" )  \# "a" for "append"\\
      $>>>$ f2.write( "Hello, world!" + str( 3.14 ) + "\textbackslash n" )\\
      $>>>$ f2.close()                     \# optional
    \end{alltt}

  \end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Paths}

  \begin{block}{Manipulating paths}
    In the \textbf{os} package:
    \begin{alltt}
      $>>>$ import os\\
      $>>>$ os.getcwd() \# current directory\\
      `/home/romain'\\
      $>>>$ os.path.join( os.getcwd() , "hop" , "hip" )\\
      `/home/romain/hop/hip'
    \end{alltt}
  \end{block}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Paths (2)}

  \begin{block}{Packages import paths}
    In the file \texttt{/home/matthieu/Python/myOwnProgram.py}
    \begin{alltt}
      def hello():\
      ~~~~    return "bonjour"
    \end{alltt}

    In the main program, using the \textbf{sys} package:
    \begin{alltt}
      $>>>$ import sys\\
      $>>>$ sys.path.append("/home/matthieu/Python")\\
      $>>>$ import myOwnProgram\\
      $>>>$ print(myOwnProgram.hello())\\
      `bonjour'
    \end{alltt}
  \end{block}

\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Numpy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Numpy}

\begin{itemize}
\item A python module for scientific computing
\item Based on a powerfull multi-dimensional array object
\item Efficient core coded in C++
\end{itemize}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Jupyter notebook}







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusion}


\begin{frame}
  \frametitle{The end}

  \vspace{3ex}

  \centering
  \Large Good Luck !

\end{frame}
\end{document}
